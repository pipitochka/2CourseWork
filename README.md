# Small C cross-compiler to RISC-V assembler
проект, кросс-компилятор языка Small C в ассемблер архитектуры RISK-V

## Содержание
- [Установка](#установка)
- [Использование](#использование)
- [Тестирование](#тестирование)
- [Синтаксис](#синтаксис)

## Установка
Cборка проекта проект:
```sh
$ mkdir build
$ cd build
$ cmake ..
$ make
```

## Использование
```sh
$ ./cctrc путь_к_входному_файлу путь_к_выходному_файлу
```

## Тестирование
Запуск тестов
```sh
$ cd/tests
$ ./code_generator_tests
$ ./lexer_tests
```
Подробное описание тестов компилятора лежит в 
```shell
Source/Compiler/CodeGennerator/tests/README.md
```

## Синтаксис

Переменные

| Тип        | Описание                                 | Размер     | Пример объявления     |
|------------|------------------------------------------|------------|------------------------|
| int        | Целое 32-битное число                    | 4 байта    | int a = 5;             |
| char       | Целое 8-битное число (символ)            | 1 байт     | char c = 'A';          |
| int*       | Указатель на int                         | 4 байта    | int* p = &a;           |
| char*      | Указатель на char                        | 4 байта    | char* p = &c;          |
| int[n]     | Массив из n элементов типа int           | 4 * n байт | int data[10];          |
| char[n]    | Массив из n элементов типа char          | 1 * n байт | char text[5];          |

Операторы

### Поддерживаемые операторы

| Оператор     | Описание                                                                | Пример        |
|--------------|-------------------------------------------------------------------------|---------------|
| `+`          | Сложение                                                               | `a + b`       |
| `-`          | Вычитание                                                              | `a - b`       |
| `/`          | Целочисленное деление                                                   | `a / b`       |
| `*`          | Умножение                                                               | `a * b`       |
| `%`          | Остаток от целочисленного деления                                        | `a % b`       |
| `+=`         | Прибавление и присваивание                                               | `a += b`      |
| `-=`         | Вычитание и присваивание                                                 | `a -= b`      |
| `/=`         | Деление и присваивание                                                   | `a /= b`      |
| `*=`         | Умножение и присваивание                                                 | `a *= b`      |
| `%=`         | Остаток от деления и присваивание                                        | `a %= b`      |
| `=`          | Присваивание                                                            | `a = b`       |
| `&&`         | Логическое "И"                                                           | `a && b`      |
| `\|\|`       | Логическое "ИЛИ"                                                          | `a \|\| b`    |
| `!`          | Логическое отрицание                                                     | `!a`          |
| `==`         | Равенство                                                               | `a == b`      |
| `!=`         | Неравенство                                                             | `a != b`      |
| `<`          | Меньше                                                                  | `a < b`       |
| `>`          | Больше                                                                  | `a > b`       |
| `<=`         | Меньше или равно                                                        | `a <= b`      |
| `>=`         | Больше или равно                                                        | `a >= b`      |
| `++`         | Инкремент                                                               | `++a`         |
| `--`         | Декремент                                                               | `--a`         |
| `&`          | Побитовое "И"                                                           | `a & b`       |
| `        \|` | Побитовое "ИЛИ" | `a \| b`      |
| `^`          | Побитовое исключающее "ИЛИ"                                              | `a ^ b`       |
| `<<`         | Побитовый сдвиг влево                                                    | `a << b`      |
| `>>`         | Побитовый сдвиг вправо                                                   | `a >> b`      |
| `~`          | Побитовое "НЕ"                                                          | `~a`          |
| `[]`         | Доступ к элементу массива                                                | `a[0]`        |
| `()`         | Окружение выражения в скобки для изменения приоритета операций          | `(a + b) * c` |
| `*`          | Взятие адреса (получение указателя на переменную)                                                | `*a`          |
| `&`          | Разыменование (получение значения по адресу)          | `&a`          |

Конструкции

| Конструкция                | Описание |
|----------------------------|----------|
| `if (condition) { expr }`   | Если условие истинно, выполняется блок `expr`. |
| `if (condition) { expr1 } else { expr2 }` | Если условие истинно, выполняется блок `expr1`, иначе выполняется блок `expr2`. |
| `while (condition) { expr }`| Пока условие истинно, выполняется блок `expr`. |
| `for (init; condition; step) { expr }` | Выполняется блок `expr`, пока условие истинно. После каждого выполнения блока происходит выполнение `step`. `init` используется для объявления переменных. |

Функции

| Описание                     | Синтаксис                                                          | Пример использования                         |
|------------------------------|--------------------------------------------------------------------|---------------------------------------------|
| Объявление функции            | `тип_возвращаемого_значения(сhar/int/void) имя_функции(параметры)` | `int add(int x, int y)`                    |
| Возвращаемое значение         | `return выражение;`                                                | `return x + y;`                            |
| Вызов функции                 | `имя_функции(аргументы);`                                          | `add(5, 7);`                               |
| Передача по значению         | `тип_переменной переменная`                                        | `int a = 5;`                               |
| Передача по ссылке (указатель) | `тип_переменной& переменная`                                       | `void update(int& x)`                      |
| Определение параметров функции | Параметры через запятую                                            | `int x, char y`                            |
